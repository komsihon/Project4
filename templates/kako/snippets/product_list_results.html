{% load i18n staticfiles humanize media_from_provider %}
    <ul class="object-list">
    {% for product in objects_page.object_list %}
        <li class="ik-li img-lg product" id="{{ product.id }}" data-id="{{ product.id }}"
            {% if product.stock %}data-stock="{{ product.stock }}{% endif %}"
            {% if product.retail_price %}data-retail_price="{{ product.retail_price }}{% endif %}">
            {% url 'kako:change_product' product.id as product_url %}
            {% if product.image.name %}
                <a {% if not request.GET.smart_link %}href="{{ product_url }}"{% endif %} class="image" style="background-image: url({{ product.image.small_url|from_provider:product.provider }})"></a>
            {% else %}
                <a {% if not request.GET.smart_link %}href="{{ product_url }}"{% endif %} class="image" style="background-image: url({% static 'ikwen/img/no_photo.jpg' %})"></a>
            {% endif %}
            <div class="info">
                <a href="{{ product_url }}">
                    <span class="name">{{ product.name }}</span>
                </a>
            </div>
            <div class="actions">
                <i class="glyphicon glyphicon-trash trash" title="{% trans "Delete item" %}"></i>
            </div>
        </li>
    {% endfor %}
        <li class="ik-li img-lg product tpl" style="display: none">
            <a class="image bg-img target_url"></a>
            <div class="info">
                <a class="target_url">
                    <span class="name"></span>
                </a>
            </div>
            <div class="actions">
                <i class="glyphicon glyphicon-trash trash" title="{% trans "Delete item" %}"></i>
            </div>
        </li>
    </ul>
    <div class="empty" style="display: none; padding: 10px 15px 5px">
        <p class="text-muted">{% trans "Not found" %}</p>
        <p>
            <span class="search-text"></span>
            <a href="{% url 'kako:change_product' %}" id="new-product"
               class="btn btn-sm btn-success" style="margin-left: 6px; min-width: 90px">{% trans "Add" %}</a>
        </p>
    </div>
    {% if objects_page.paginator.num_pages > 1 %}
    <ul class="pagination">
        <li class="disabled"><a href="#" aria-label="Previous"><span aria-hidden="true">«</span></a></li>
        {% for page in objects_page.paginator.page_range %}
            <li class="page{% if page == objects_page.number %} active{% endif %}" data-val="{{ page }}">
                <a href="#">
                    {{ page }} {% if page == objects_page.number %}<span class="sr-only">(current)</span>{% endif %}
                </a>
            </li>
        {% endfor %}
        <li><a href="#" aria-label="Next"><span aria-hidden="true">»</span></a></li>
    </ul>
    {% endif %}
    <div id="page-navigation" class="text-muted">
        {% if objects_page.paginator.num_pages > 1 %}
            <p>{% blocktrans with count=objects_page.paginator.count start=objects_page.start_index end=objects_page.end_index %}
                {{ start }} – {{ end }} of {{ count }} results{% endblocktrans %}</p>
        {% else %}
            <p>{% blocktrans with count=objects_page.paginator.count %}{{ count }} results{% endblocktrans %}</p>
        {% endif %}
    </div>